SpreeWebpay
===========

This is a spree extension to use [WebPay](https://webpay.jp/) as a payment method.

WebPayを決済に利用するためのSpree Extensionです。

Installation
------------

Add spree_webpay to your Gemfile:

```ruby
gem 'spree_webpay'
```

Bundle your dependencies and run the installation generator:

```shell
bundle
bundle exec rails g spree_webpay:install
```

Open payment method configuration (http://localhost:3000/admin/payment_methods) and add a new payment method.

Select `Spree::PaymentMethod::Webpay`, and put secret and publishable keys shown in [your webpay setting page](https://webpay.jp/settings).

Testing
-------

First bundle your dependencies, then run `rake`. `rake` will default to building the dummy app if it does not exist, then it will run specs. The dummy app can be regenerated by using `rake test_app`.

```shell
bundle
bundle exec rake
```

When testing your applications integration with this extension you may use it's factories.
Simply add this require statement to your spec_helper:

```ruby
require 'spree_webpay/factories'
```

Hacking
-------

Due to spree's problem, **card data cannot be saved**.
Applying [this patch](https://github.com/spree/spree/pull/5292) enables saving cards per user.
However, this change is known to break other payment methods.
Neither we nor the Spree team take responsibility about this hack.

Copyright (c) WebPay, released under the New BSD License
